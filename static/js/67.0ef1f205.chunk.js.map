{"version":3,"file":"static/js/67.0ef1f205.chunk.js","mappings":"oPAGaA,EAAY,SAAC,GAAyB,IAAvBC,EAAsB,EAAtBA,SAAUC,EAAY,EAAZA,MACpC,GAA8BC,EAAAA,EAAAA,UAASD,GAAvC,eAAOE,EAAP,KAAgBC,EAAhB,KAgBA,OACE,6BACE,kBAAMJ,SAZW,SAAAK,GAEnB,GADAA,EAAEC,iBACqB,KAAnBH,EAAQI,OACV,OAAOC,EAAAA,GAAAA,KAAW,mCAGpBR,EAASG,GACTC,EAAWD,EACZ,EAIG,WACE,kBACEM,KAAK,UACLR,MAAOE,EACPO,KAAK,OACLC,aAAa,MACbC,WAAS,EACTC,YAAY,eACZC,SAxBa,SAAAT,GACnBD,EAAWC,EAAEU,OAAOd,MAAMe,cAC3B,KAwBK,mBAAQN,KAAK,SAAb,UACE,2CAKT,E,SCWD,EAzCe,WAAO,IAAD,EACnB,GAA4BR,EAAAA,EAAAA,UAAS,IAArC,eAAOe,EAAP,KAAeC,EAAf,KACA,GAA0BhB,EAAAA,EAAAA,UAAS,MAAnC,eAAOiB,EAAP,KAAcC,EAAd,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMpB,EAAO,UAAGmB,EAAaE,IAAI,gBAApB,QAAgC,IAE7CC,EAAAA,EAAAA,YAAU,WACQ,KAAZtB,IAIJuB,EAAAA,EAAAA,IAAgBvB,GACbwB,MAAK,SAAAV,GACJ,GAAsB,IAAlBA,EAAOW,OACT,OAAOpB,EAAAA,GAAAA,MACL,4EAGJU,EAAUD,EACX,IACAY,OAAM,SAAAV,GAAK,OAAIC,EAASD,EAAMW,QAAnB,GACf,GAAE,CAAC3B,IASJ,OACE,6BACE,yCACA,SAACJ,EAAD,CAAWC,SAVU,SAAAC,GACnBE,IAAYF,GAGhBsB,EAA0B,KAAVtB,EAAe,CAAE8B,MAAO9B,GAAU,CAAC,EACpD,EAK0CA,MAAOE,IAC7CgB,GAASX,EAAAA,GAAAA,MAAYW,GACrBF,EAAOW,OAAS,IAAK,SAACI,EAAA,EAAD,CAAYf,OAAQA,KAC1C,SAAC,KAAD,CAAgBgB,UAAW,IAAMC,MAAM,cAG5C,C","sources":["components/Searchbar.jsx","pages/Movies.jsx"],"sourcesContent":["import { useState } from 'react';\nimport { toast } from 'react-toastify';\n\nexport const Searchbar = ({ onSubmit, value }) => {\n  const [request, setRequest] = useState(value);\n\n  const handleChange = e => {\n    setRequest(e.target.value.toLowerCase());\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (request.trim() === '') {\n      return toast.warn('Enter your request in the field');\n    }\n\n    onSubmit(request);\n    setRequest(request);\n  };\n\n  return (\n    <header>\n      <form onSubmit={handleSubmit}>\n        <input\n          name=\"request\"\n          value={request}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search movie\"\n          onChange={handleChange}\n        />\n        <button type=\"submit\">\n          <span>Search</span>\n        </button>\n      </form>\n    </header>\n  );\n};\n","import { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { getSearchMovies } from 'API';\nimport { Searchbar } from 'components/Searchbar';\nimport { MoviesList } from 'components/MoviesList';\n\nconst Movies = () => {\n  const [movies, setMovies] = useState([]);\n  const [error, setError] = useState(null);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const request = searchParams.get('query') ?? '';\n\n  useEffect(() => {\n    if (request === '') {\n      return;\n    }\n\n    getSearchMovies(request)\n      .then(movies => {\n        if (movies.length === 0) {\n          return toast.error(\n            'Sorry, there are no movies matching your search query. Please try again.'\n          );\n        }\n        setMovies(movies);\n      })\n      .catch(error => setError(error.message));\n  }, [request]);\n\n  const handleFormSubmit = value => {\n    if (request === value) {\n      return;\n    }\n    setSearchParams(value !== '' ? { query: value } : {});\n  };\n\n  return (\n    <main>\n      <h1>Movies page</h1>\n      <Searchbar onSubmit={handleFormSubmit} value={request} />\n      {error && toast.error(error)}\n      {movies.length > 0 && <MoviesList movies={movies} />}\n      <ToastContainer autoClose={3000} theme=\"colored\" />\n    </main>\n  );\n};\n\nexport default Movies;\n"],"names":["Searchbar","onSubmit","value","useState","request","setRequest","e","preventDefault","trim","toast","name","type","autoComplete","autoFocus","placeholder","onChange","target","toLowerCase","movies","setMovies","error","setError","useSearchParams","searchParams","setSearchParams","get","useEffect","getSearchMovies","then","length","catch","message","query","MoviesList","autoClose","theme"],"sourceRoot":""}