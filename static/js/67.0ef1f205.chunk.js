"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[67],{67:function(e,t,r){r.r(t),r.d(t,{default:function(){return h}});var n=r(885),u=r(791),o=r(731),a=r(596),i=(r(462),r(197)),s=r(184),c=function(e){var t=e.onSubmit,r=e.value,o=(0,u.useState)(r),i=(0,n.Z)(o,2),c=i[0],l=i[1];return(0,s.jsx)("header",{children:(0,s.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),""===c.trim())return a.Am.warn("Enter your request in the field");t(c),l(c)},children:[(0,s.jsx)("input",{name:"request",value:c,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movie",onChange:function(e){l(e.target.value.toLowerCase())}}),(0,s.jsx)("button",{type:"submit",children:(0,s.jsx)("span",{children:"Search"})})]})})},l=r(130),h=function(){var e,t=(0,u.useState)([]),r=(0,n.Z)(t,2),h=r[0],f=r[1],m=(0,u.useState)(null),d=(0,n.Z)(m,2),p=d[0],v=d[1],x=(0,o.lr)(),j=(0,n.Z)(x,2),g=j[0],y=j[1],S=null!==(e=g.get("query"))&&void 0!==e?e:"";(0,u.useEffect)((function(){""!==S&&(0,i.V0)(S).then((function(e){if(0===e.length)return a.Am.error("Sorry, there are no movies matching your search query. Please try again.");f(e)})).catch((function(e){return v(e.message)}))}),[S]);return(0,s.jsxs)("main",{children:[(0,s.jsx)("h1",{children:"Movies page"}),(0,s.jsx)(c,{onSubmit:function(e){S!==e&&y(""!==e?{query:e}:{})},value:S}),p&&a.Am.error(p),h.length>0&&(0,s.jsx)(l.O,{movies:h}),(0,s.jsx)(a.Ix,{autoClose:3e3,theme:"colored"})]})}}}]);
//# sourceMappingURL=67.0ef1f205.chunk.js.map